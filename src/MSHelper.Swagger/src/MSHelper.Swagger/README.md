# MSHelper.Swagger : Autogenerated docs with Swagger
:star: Star us on GitHub — it motivates us a lot!

# Overview
Adds API documentation using [Swagger](https://swagger.io/docs/) or [ReDoc](https://redoc.ly/).

## Installation

This document is for the latest MSHelper.Swagger **1.0.0 release and later**.

`dotnet add package MSHelper.Swagger`

## Dependencies

-- [MSHelper](https://www.nuget.org/packages/MSHelper)

## Usage
Extend `IMSHelperBuilder` with `AddHttpClient()` that will register the required services.

```
public static IMSHelperBuilder RegisterMSHelper(this IMSHelperBuilder builder)
{
    builder.AddHttpClient();
    // Other services.
    
    return builder;
}
```
  

Then, simply inject `IHttpClient` (and optionally `HttpClientOptions` to resolve services URLS) to execute HTTP requests.

```
public class SomeService
{
    private readonly string _webService1Url;
    private readonly IHttpClient _client;

    public SomeService(IHttpClient _client, HttpClientOptions options)
    {
        _client = _client;
        _webService1Url = options.Services["web-service1"];
    }

    public async Task FooAsync()
    {
        var dto = await _client.GetAsync<Dto>($"{_webService1Url}/data");
    }
}
```

## Options
--- Enabled - determines whether documentation is enabled
--- ReDocEnabled - if false SwaggerUI is used to render documentation. Otherwise uses ReDoc
--- Name - name of the documentation
--- Title - title of the documentation
--- Version - version of the documentation
--- RoutePrefix - endpoint at which the documentation is going to be available
--- IncludeSecurity - determines whether documentation security (via JWT) is going to be activated

### appsettings.json

```
  "swagger": {
    "enabled": true,
    "reDocEnabled": false,
    "name": "v1",
    "title": "API",
    "version": "v1",
    "routePrefix": "docs",
    "includeSecurity": true
  },

```
## Usage
Inside Startup.cs extend `IMSHelperBuilder` with `AddSwaggerDocs()` and `IApplicationBuilder` with `UseSwaggerDocs()`:

```
public IServiceProvider ConfigureServices(this IServiceCollection services)
{
    var builder = services.AddMSHelper()
        .AddSwaggerDocs();

    //other registrations    
    return builder.Build();
}

public void Configure(this IApplicationBuilder app)
{
    app.UseSwaggerDocs();
}

```

Having this done your docs should be available at `http://{host}:{port}/{routePrefix}`

## Important Note:
All the MSHelper packages are for self learning purposes inspired by Devmentors.io
